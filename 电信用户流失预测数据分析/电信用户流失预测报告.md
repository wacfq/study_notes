<h1 align = "center">电信用户流失数据分析</h1>

## 问题
&emsp;&emsp;针对第11.1.4节电信客户数据选取适当模型进行相应分析（缺失数据可删除或采用插值方法进行补充，使之完整后进行相应分析）。

## 一、研究背景

&emsp;&emsp;通信服务供应商、网络服务供应商、付费电视供应商、保险公司、风险监控公司常常用客户流失分析和客户流失率作为他们的一个关键商业核心指标，因为获取一个新用户比维持一个老客户成本要高得多。这些领域的公司一般都配有专门挽回流失客户的客服部门。因为老客户的价值远高于新客户。

&emsp;&emsp;流失客户分为主动流失客户和被动流失客户。主动流失客户是主动决定更换服务提供商，而被动流失客户一般是由于不可抗力导致流失。一般来说，流失模型要排除被动流失客户，分析师一般重点研究那些主动流失的客户。因为他们能比较典型的反映出客户对公司的态度怎样。这完全取决于公司所提供的的产品或服务，例如计费方式合不合理、售后服务好坏等等。

&emsp;&emsp;现如今，在电信行业蓬勃发展的同时，电信市场也趋于饱和，获取一个新客户的难度要远远高于维系一个老客户的难度，而老客户的流失意味着收益的流失和市场占有率的下降。可以说，电信运营商的竞争就是针对客户资源的竞争。然而，客户流失从来都是无法避免的，客户流失的原因也不尽相同。若想做到客户流失前预防、流失后召回，就必须通过数据分析和建模来总结经验、预测未来。

&emsp;&emsp;因此，本文利用电信公司的客户流失数据，用其来探究电信客户流失背后的主要原因，并建立客户流失预警模型，帮助电信公司为优化业务、提高客户留存、减少流失制定策略。无论是互联网行业还是传统行业，所有产品都需要关注用户流失，用户流失原因的拆解思路也都大致相同。因此，本文的探究思路是比较具有现实的推广意义的。
## 二、研究思路
&emsp;&emsp;电信用户流失存在多个因素的考虑，首先，对原始数据进行处理，剔除异常值以及缺失值的补全处理。

&emsp;&emsp;其次将数据集中的标签属性划分为不同的维度。在每一个维度下，通过数据处理和数据可视化的手段，对数据进行探索。

&emsp;&emsp;最后通过建立适当的模型，对电信用户的流失进行预测，并给出相应的计建议，减少用户的流失。

## 三、数据探索
### 3.1数据清洗
&emsp;&emsp;首先对数据的缺失值进行统计，结果如下：
<div align = "center">

| 指标类型             | 缺失值 |
| :------------------- | :----: |
| 服务月数tenure       |   32   |
| 年龄age              |   25   |
| 婚姻状况marital      |  115   |
| 地址居住年数address  |  150   |
| 家庭收入income       |  179   |
| 受教育水平ed         |   35   |
| 现职位工作年数employ |   96   |
| 是否退休retire       |   84   |
| 性别gender           |   42   |
| 家庭人数reside       |   34   |
&emsp;&emsp;从表中可以明显看出服务月数、用户年龄、婚姻状况等字段的数据都有缺失。考虑到每条数据为每一个电信用户，而每一个用户是独立存在的。每条数据具有实际意义，数据间不存在相关关系，因此删除空值，得到475条具有30个指标的数据。

![](https://img.soogif.com/DP7ySoaIHsdadRXwn92O1iRcA8hvJIHc.gif?imageMogr2/thumbnail/!87.1514960051087p&scope=mdnice)
### 3.2描述性统计分析
#### 3.2.1性别探索
&emsp;&emsp;对数据中的男女性别进行分类，绘制饼图如下：

<img src="image\性别.png" alt="图1 用户性别比例分布" style="zoom:75%;" />

&emsp;&emsp;从图中明显可以看出，男生占比42.3，女生占比57.7%，远高于男性用户，只从数据层面表明电信公司可以多针对女性用户出一些营销方案。

#### 3.2.2数据分布探索
&emsp;&emsp;将数据中用户年龄，现岗位工作时间，服务月数字段绘制箱线图，结果如下：

<img src="image\箱线图.png" alt="图2 数据分布" style="zoom:75%;" />

&emsp;&emsp;从图中显示用户年龄均在18周岁以上，在现岗位工作时间超过5年的人占了很大一部分，且有部分人工作时间超过30年。除此之外，电信公司对用户服务时间基本超过10个月。

#### 3.2.3 用户学历探索

&emsp;&emsp;数据中将用户学历分为5各层次，绘制条形图如下：

<img src="image\用户教育水平.png" alt="图3 用户学历探索" style="zoom:75%;" />

&emsp;&emsp;从图中可以看出，中学学历的人数最多，大其次为大学学历和中学以下的用户，研究生学历的用户最少。与国民受教育程度大致相同，说明数据具有真实性。


#### 3.2.4分类数据统计
&emsp;&emsp;对分类数据进行统计，结果如下：

<img src="image\分类数据统计.png" alt="图4 分类数据探索" style="zoom:75%;" />

&emsp;&emsp;从图中明显可以看出很大一部分用户都是未退休，只有少数用户已经退休；而已结婚和未婚的用户基本大致相同；除此之外，大部分用户都办理了电信公司的套餐服务，诸如语音服务、上网服务等。


## 四、分类预测
&emsp;&emsp;对于每一个用户只有已流失和未流失两种情况，用户的基本属性是评定是否流失的重要指标。因此，利用C4.5算法，计算信息熵，对用户进行分类预测。

&emsp;&emsp;C4.5算法是用于生成决策树的一种经典算法，是ID3算法的一种延伸和优化。C4.5算法与ID3算法的不同点在于：

&emsp;&emsp;（1）分支指标采用增益比例，而不是ID3所使用的信息增益；

&emsp;&emsp;（2）按照数值属性值的大小对样本排序，从中选择一个分割点，划分数值属性的取值区间，从而将ID3的处理能力扩充到数值属性上来。

&emsp;&emsp;（3）将训练样本集中的位置属性值用最常用的值代替，或者用该属性所有取值的平均值代替，从而处理缺少属性值的训练样本。

&emsp;&emsp;（4）使用k次迭代交叉验证，评估模型的优劣程度

&emsp;&emsp;（5）根据生成的决策树，可以产生一个if-then规则的集合，每一个规则代表从根节点到叶节点的一条路径。


&emsp;&emsp; **在进行C4.5算法之前，先对ID3算法进行简单介绍：**

![](https://img.soogif.com/F3So7peHp4zwn04LNywPB9gHmhPWTwvv.gif?scope=mdnice)


---

<img src="image\ID3.png" alt="" style="zoom:55%;" />

---

&emsp;&emsp;信息量熵split_info（S,A），其中，S代表训练样本集；A代表属性，这个信息量是与样本的类别无关的，计算公式如下：

$$
split\_info(S,A)=-\sum^m_{i=1}\frac{|S_i|}{S}\log_2\frac{|S_i|}{S}
$$

&emsp;&emsp;$S_i$表示根据属性A划分的第$i$个样本子集，样本在A上的取值分布越均匀，split_info的值越大。split_info用来衡量属性分裂数据的广度和均匀性。属性A的增益比例计算如下：


$$
gain\_ratio(S,A)=\frac{gain(S,A)}{split\_info(S,A)}
$$

&emsp;&emsp;然后用此公式遍历每个属性,选择信息增益率最大的属性作为当前的分类属性来产生树。对于分类不纯的节点，继续重复上述方法选择其他属性继续分类。

&emsp;&emsp;利用90%的数据作为训练数据，建立决策树，再利用10%的数据作为测试数据，预测部分结果如下：

<div align = "center">

| 编号 | 预测值 | 真实值 |
| :--: | :----: | :----: |
|  1   |   0    |   1    |
|  2   |   0    |   1    |
|  3   |   0    |   0    |
|  4   |   1    |   1    |
|  5   |   1    |   1    |
|  6   |   0    |   0    |
|  7   |   1    |   1    |

</div>

&emsp;&emsp;最终得到预测准确率为78.72%，相对来说正确率较低，可能是由于使用全部指标作为训练集，对预测结果产生了影响。

## 五、结论与建议
### 1、根据客户个人属性分群制定策略。

&emsp;&emsp;从数据来看，老年客户很可能因为在手机服务使用上存在一定困难而流失，而技术支持这项附加业务则可以有效改善这种状况，因此可以向老年客户推出包含电话、互联网和技术支持业务的温暖套餐，承诺定期线上回访。此外，还可以开通老年客户电信服务专线，将“送温暖”服务理念深入人心，进一步拉近与老年客户群之间的距离，提高留存率，也有利于吸纳更多的老年客户。

&emsp;&emsp;对于有亲属的客户，可以推出包含主要业务和所有附加业务的家庭年费套餐，给予一定的折扣优惠或者免费赠送三个月的影视会员，针对网络电视和电影服务，承诺在合同期限内提供免费的技术升级。也可以开发仅限配偶和子女之间的“亲人圈”业务，合同以年计，同城的亲属之间通话免费，以此作为“亲人圈”的卖点，吸引客户的亲属入网。

&emsp;&emsp;针对地点变动比较频繁的客户，推出“全国通”电话和流量套餐，力求减少这种不必要的流失。

### 2、设立客户忠诚计划，引入积分和会员体系。

&emsp;&emsp;引入积分制度，建立积分商城。客户的任意电信消费都可以等额地兑换成积分，积累到地一定额度即可在积分商城内兑换虚拟或实物礼品，商城内也可以设置轮盘抽奖活动，增加趣味性、积分每年年底清零，公司也要定期向客户发送短信提醒其完成积分兑换。

&emsp;&emsp;建立会员体系，进行差异化的运营和管理。客户连续使用本公司电信服务达到三个月即自动入会，成为普通会员。再根据总消费金额向上划分会员等级，例如铂金、黄金、钻石会员等等。同时要为不同等级的会员，配置不同层次的权益。比如专属客服、积分翻倍、赠送节日礼包、纪念品等等。

### 3、吸纳新客户，维系老客户，召回流失客户。

**3.1  新客策略**

&emsp;&emsp;根据图表分析，新客户在入网的前三个月最容易流失，而在短时间内留存客户的最有效手段就是让客户迅速感受并认同业务的价值。通过分析发现，电信附加业务可以在一定程度上弥补基础业务的不足。

&emsp;&emsp;因此，对于新客户，除了入网即赠送消费券、给予折扣等常规促销手段，还可以开展附加业务首月免费体验活动。让新客户通过体验增值服务，感受到本公司电信业务的便捷、快捷与安全性。另外可以规定，新客户签订的合同期限越长，其获得的折扣和福利也会越多。因为比起说服老用户转变月签方式，培养新的长约客户显然来得更加高效。

&emsp;&emsp;此外，开展老带新活动也是吸纳新客户的重要手段。经老客户推荐来的新客可以享受折上折，新客入网后老客即可获得积分，且拉新人数越多，积分越多。

**3.2 老客策略**

&emsp;&emsp;根据前文分析，在网时长超过20个月即可视为忠诚客户。对于忠诚客户，要定期维系和关怀，比如向客户发送生日短信、节日礼等等，忠诚客户的个性化需求也要满足。此外，也要定期对忠诚客户进行线上和线下回访，开展客户满意度调研，在优化当前业务的同时，发掘新的业务需求点。

**3.3 流失客户策略**

&emsp;&emsp;对于普通流失客户，可以通过批量发送短信或邮件的方式召回，内容中注明重新入网可享受的折扣优惠以及优惠的时限。

&emsp;&emsp;对于高价值流失客户，可以通过电话回访、赠送伴手礼的方式进行召回。此外，也可以通过举办优惠活动大面积召回流失客户。

### 4、提高业务服务质量，精准定位客户需求。

&emsp;&emsp;从客户的消费行为数据来看，多数客户尚未习惯使用电子支付，他们更倾向于传统的纸质账单形式和支票、银行卡的付款方式。因此要大力推荐并引导新老客户使用这两种方式，进而延长客户的存续期。

&emsp;&emsp;从电信业务数据来看，目前互联网业务尤其是光纤方面仍然存在缺陷，对其进行技术改造和升级迫在眉睫。

&emsp;&emsp;此外，开通在线安全、在线备份等附加业务对流失率的有效降低反映出客户对安全、便捷的业务的日益增长的需求。但在目前来说，开通附加业务的客户数量还比较少，因此要向客户大力宣传推广这些业务，唤醒他们的需求意识。

&emsp;&emsp;项目地址：

![](https://img.soogif.com/tCKpyYGDTsVY9WbdooUXFxp9MFAY8fqk.gif?scope=mdnice)